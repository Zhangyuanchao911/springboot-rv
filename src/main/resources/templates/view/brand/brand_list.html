<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>品类列表</title>
    <!-- 新 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="../../../static/css/bootstrap.min.css">
    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="../../../static/js/jquery.min.js"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="../../../static/js/bootstrap.min.js"></script>
    <!--toastr-->
    <link rel="stylesheet" href="../../../static/css/toastr.min.css">
    <script src="../../../static/js/toastr.min.js"></script>
</head>
<body>
<div style="padding:0px; margin:0px;">
    <ul class="breadcrumb" style="  margin:0px; ">
        <li>车辆中心</li>
        <li>车辆品牌管理</li>
        <li>品牌列表</li>
    </ul>
</div>
<div class="row alert alert-info" style="margin:0px; padding:3px;">
    <form class="form-inline" th:action="@{/rv/biz-brand/fuzzylist}">
        <div class="form-group">
            <label class="" for="activename">品牌名称：</label>
            <input type="text" name="kw" class="form-control" id="activename" placeholder="请输入品牌名称">
            <!--            <input type="hidden" name="result" class="form-control" th:value="${result}">-->
        </div>
        <input type="submit" class="btn btn-danger" value="查询"/>
        &nbsp;&nbsp;
        <a class="btn btn-success" th:href="@{/view/brand/brand_add}">添加品牌</a>
    </form>
</div>
<div class="row" style="padding:15px; padding-top:0px; ">
    <table class="table table-striped table-bordered table-hover">
        <tr>
            <th><b>序号</b></th>
            <th>品牌名称</th>
            <th>创建日期</th>
            <th>操作</th>
        </tr>
        <tr th:each="brand :${brands}">
            <td><b th:text="${brandStat.index+1}"></b></td>
            <td th:text="${brand.brandName}"></td>
            <td th:text="${#dates.format(brand.creatTime,'yyyy-MM-dd HH:mm:ss')}"></td>
            <td>
                <a th:href="@{/rv/biz-brand/findbyid(id=${brand.brandId})}" class="btn btn-sm btn-primary">修改</a>
                <a th:href="@{/rv/biz-brand/delete(id=${brand.brandId})}" class="btn btn-sm btn-danger" name="deleted">删除</a>
            </td>
        </tr>
    </table>
    <!--显示分页信息-->
    <div class="modal-footer no-margin-top">
        <div class="col-md-6">
            当前第 [[${pageInfo.current}]]页,共 [[${pageInfo.pages}]] 页.一共 [[${pageInfo.total}]] 条记录
        </div>

        <ul class="pagination pull-right no-margin">
            <li>
                <a th:href="'/rv/biz-brand/list?pageNum='+${1}">首页</a>
            </li>
            <!--遍历条数-->
            <li th:each="nav:${list}">
                <a th:href="'/rv/biz-brand/list?pageNum='+${nav}" th:text="${nav}"
                   th:if="${nav != pageInfo.current}"></a>
                <span style="font-weight: bold;background: #6faed9;" th:if="${nav == pageInfo.current}"
                      th:text="${nav}"></span>
            </li>


            <li>
                <a th:href="'/rv/biz-brand/list?pageNum='+${pageInfo.pages}">尾页</a>
            </li>
        </ul>
    </div>
</div>
</body>
<script th:inline="javascript">
    toastr.options = {
        closeButton: false,
        debug: false,
        progressBar: true,
        positionClass: "toast-top-center",
        onclick: null,
        showDuration: "300",
        hideDuration: "3000",
        timeOut: "3000",
        extendedTimeOut: "3000",
        showEasing: "swing",
        hideEasing: "linear",
        showMethod: "fadeIn",
        hideMethod: "fadeOut"
    };
    $("[name=deleted]").click(function () {
        if (confirm("确定删除该记录？")) {
            return true;
        } else {
            return false;
        }
    });
    var success = [[${success}]];
    if (success != null) {
        toastr.success(success);
    }
    var fail = [[${fail}]];
    if (fail != null) {
        toastr.warning(fail);
    }

</script>
</html>
